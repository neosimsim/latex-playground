% The MIT License (MIT)
% 
% Copyright (c) 2015 Alexander Ben Nasrallah
% 
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
% 
% The above copyright notice and this permission notice shall be included in all
% copies or substantial portions of the Software.
% 
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
% SOFTWARE.

\documentclass[a4paper]{article}

\usepackage{listings}
\usepackage[]{color}
\usepackage[colorlinks=true, pagebackref=true, linktoc=page, urlcolor=cyan]{hyperref}

\renewcommand{\lstlistlistingname}{Codestellen} % Ändert die Überschrift von \lstlistoflistings.
\renewcommand{\lstlistingname}{Codestelle}      % Ändert die Bezeichung der Captions.

% Definiere einen eigenen Syle:
\lstdefinestyle{cli}{
	backgroundcolor=\color{black},
	basicstyle=\color{white},
	identifierstyle=\color{white},
	commentstyle=\color{cyan},
	stringstyle=\color{green},
	keywordstyle=\color{magenta},
	frame=TRBL,
	framesep=2pt,
	rulesep=1pt,
	framerule=1pt,
	rulecolor=\color{white},
	rulesepcolor=\color{black},
}

% Definiere eine eigene Sprache:
\lstdefinelanguage{cli}{
	morekeywords={cd, ls, echo},
	sensitive=true,
	morecomment=[l]{\#},
	morestring=[b]",
	morestring=[b]',
	style=cli,
	showstringspaces=false,
}

% Mit \lstset definiert man Standardwerte für alle Sprache, d. h. ist ein Wert
% nicht getzt, wie die Hintergrundfarbe, wir die hier definierte verwendet.
% Setzt man allerdings vorher eine Hintergrundfarbe, so wird diese genommen.

% \lstset{language=cli} % Dieser Ausdruck setzt die Einstellungen von cli als Standard.
\lstset{backgroundcolor=\color{yellow}} % Der Hintergrung von cli bleibt dennoch schwarz.

\title{Eigene Codesprache f\"ur lstlisting}
\author{Alexander Ben Nasrallah}

\begin{document}

\maketitle
\begin{abstract}
	Wir wollen uns hier anschauen, wie man eine eigene Codesprache f\"ur
	\emph{lstlisting} definiert.
\end{abstract}

Mit \verb+\lstlistoflistings+ generiert man ein Verzeichnes aller listings mit
Caption:
\lstlistoflistings

\begin{lstlisting}[language=cli, title=Titel, caption={Command line}]
	cd $HOME
	# Comment
	echo "Hallo Welt!"
\end{lstlisting}

Hier ein vergleichs c-Code, um zu sehen, welche Einstellungen durch
\verb+\lstset+ beeinflusst wurden:
\begin{lstlisting}[language=C, caption={c-Code mit Standardeinstellungen}]
	// Comment
	printf("Hallo Welt!")
\end{lstlisting}

Siehe auch \url{https://www.ctan.org/pkg/listings}.
\end{document}
